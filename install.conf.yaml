- defaults:
    link:
      relink: true

- clean: ['~']

- shell:
  - 
    command: 'git submodule update --init --recursive' 
    description: 'Installing submodules'
    quiet: true

- if:
    cond: 'bash -c "[[ ! -d ~/.config/nvim ]]"'
    met:
    - shell:
      - 
        command: 'git clone https://github.com/AstroNvim/AstroNvim ~/.config/nvim'
        description: 'Cloning AstroNvim'
        quiet: true

- link:
    ~/.config/fish: fish
    ~/.bashrc: bashrc
    ~/.config/nvim/lua/user: nvim
    ~/.ipython/profile_default/ipython_config.py: ipython_config.py

- if:
    cond: 'bash -c "[[ `uname -o` != Android ]]"'
    met:
    - link:
        ~/.ghci: ghci
        ~/.haskeline: haskeline
        ~/.config/kitty: kitty
        ~/.config/rofi: rofi
        ~/.Xmodmap: Xmodmap
    unmet:
    - link:
        ~/.termux: termux/termux
        ~/bin: termux/bin
        ~/internal: /storage/emulated/0
        ~/bin/termux-file-editor: $PREFIX/bin/nvim
        ~/.termux/shell: $PREFIX/bin/fish


